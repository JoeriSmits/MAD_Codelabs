<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/codelab-components/google-codelab.html">
<link rel="import" href="../../../bower_components/codelab-components/google-codelab-step.html">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<dom-module id="CodeLab-Firebase-app">
    <template>
        <style>
            :host {
                display: block;
                font-family: 'Open Sans', sans-serif;
            }
            
            aside {
                border-color: #6a6;
                background: #ded;
                color: #464;
            }
            
            aside.danger {
                border-color: #aa6666;
                background: #eedddd;
                color: #664444;
            }
            
            ol,
            ul {
                margin: 2em 0;
            }
            
            #moveIcon {
                transform: rotate(180deg);
            }
            
            google-codelab::content .donebutton {
                display: none;
            }
        </style>

        <google-codelab title="Android CodeLab: Chatapplicatie met Firebase" last-updated="2016-12-14">
            <google-codelab-step label="Maak een keuze | iOS vs Android" step="1" duration="2">
                Nu we het einde van de minor bereikt hebben, weet iedereen hoe je een app bouwt. Iedereen gaat nu een chat applicatie bouwen
                met behulp van firebase, zodat we straks één applicatie hebben waarin iedereen kan chatten. Dat kan in iOS
                of in android.
                <a href="#"><i class="fa fa-apple" aria-hidden="true"></i> Volg de codelab in iOS</a>
                <a href="#!"><i class="fa fa-android" aria-hidden="true"></i> Volg de codelab in Android</a>

            </google-codelab-step>

            <google-codelab-step label="Firebase installeren binnen Android Studio" step="2" duration="8">
                <b>Deze codelab is geschreven voor Android Studio versie 1.5 en hoger.</b>
                <br/>
                <b>Voor deze codelab is al een Firebase applicatie aangemaakt in de Firebase console, dit hoef je dus niet zelf te doen!</b>
                <br/> Firebase toevoegen aan een Android Studio project is relatief simpel. Om met firebase te kunnen werken
                heb je een pod nodig. Die kun je installeren door de volgende stappen te volgen:
                <ol>
                    <li>Maak een nieuw Android Studio project aan.</li>
                    <li>Open de root build.gradle (deze staat in Android Studio gemarkeerd als <i>Project: Android</i>) en voeg
                        de google-services plugin toe aan je project:</li>
                    <p>
                        <pre><code><span>
buildscript {
    // ...
    dependencies {
        // ...
        classpath 'com.google.gms:google-services:3.0.0'
    }
}
            </span></code></pre>
                    </p>
                    <li>Voeg vervolgens de Firebase library toe aan de project build.gradle (deze staat in Android Studio gemarkeerd
                        als <i>Module: app</i>)</li>
                    <p>
                        <pre><code><span>
apply plugin: 'com.android.application'

android {
  // ...
}

dependencies {
  // ...
  compile 'com.google.firebase:firebase-core:10.0.1'
  
  // Getting a "Could not find" error? Make sure you have
  // the latest Google Repository in the Android SDK manager
}

// ADD THIS AT THE BOTTOM
apply plugin: 'com.google.gms.google-services'</span></code></pre>
                    </p>
                    <li><i>Als je het automatisch synchronizeren van je project met de gradle configuraties uit hebt staan, dan moet je dit handmatig doen door de "Sync project with Gradle files" knop in te drukken.</li>
<p><img src="http://i.imgur.com/ve5JYNx.png" alt="Sync project with Gradle files"/></p>
<p><i>Kan je de knop niet vinden? Gebruikt ctrl-shift-a om het commando interface te openen en typ "Sync project with Gradle files".</i></p>
                        <li>Gebruik vervolgens de voorbereidde firebase configuratie (<a href="https://s3.eu-central-1.amazonaws.com/mad-codelab/google-services.json">download</a>)
                            en voeg deze toe aan de "app" map van je nieuwe project</li>
                        <p><img src="http://i.imgur.com/6JRYG0E.png" alt="Installatieinstructies" /></p>
                </ol>
                Firebase is nu geïnstalleerd!
            </google-codelab-step>

            <google-codelab-step label="Firebase gebruiken in je nieuwe project" step="3" duration="8">
                Nu je Firebase succesvol hebt geinstalleerd is het tijd om de chatapplicatie te gaan maken. Om te voorkomen dat het te lang
                duurt om te codelab te volgen worden sommige delen code aangeleverd.
                <ol>
                    <li>Indien dit niet automatisch is gebeurd, voeg een lege activity toe aan je project.</li>
                    <li>De Firebase database bevat een lijst van berichten die uit drie onderdelen bestaat, namelijk: de sender,
                        message en timestamp. Om wat makkelijker met deze data om te gaan maken we een Message object aan
                        die deze velden bevat. Al deze velden worden opgeslagen als een String.</li>
                    <li>Geef het nieuwe Message object een constructor waarmee je de sender, message en timestamp set.</li>
                    <li>Nu is het tijd om je activity in te richten. Voor het gemak wordt de layout aangeleverd. Deze kun je
                        vervolgens in de <i>#onCreate()</i> als layout instellen (hint: <i>#setContentView()</i>).</li>
                </ol>
                <p>
                    <pre><code><span>
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_height="match_parent"
    android:layout_width="match_parent"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:orientation="vertical"
    android:background="@color/background">
    <android.support.v7.widget.RecyclerView
        android:layout_width="match_parent"
        android:layout_height="0dp"
        app:stackFromEnd="true"
        android:layout_weight="1"
        android:id="@+id/messagesRecyclerView">
    </android.support.v7.widget.RecyclerView>
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">
        <EditText
            android:layout_width="0dp"
            android:layout_weight="1"
            android:id="@+id/messageTextField"
            android:layout_height="wrap_content" />
        <Button
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:id="@+id/sendMessageButton"
            android:text="@string/send"/>
    </LinearLayout>
</LinearLayout>
                        </pre></code></span>
                </p>
            </google-codelab-step>
        </google-codelab>

    </template>

    <script>
Polymer({
    is: 'CodeLab-Firebase-app'
});
</script>
</dom-module>